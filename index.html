<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Debapriya Art</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{
color:white;
background:linear-gradient(-45deg,#0f0f0f,#1a0033,#0a0a0a,#1f0029);
background-size:400% 400%;
animation:gradientMove 12s ease infinite;
overflow-x:hidden;
}
@keyframes gradientMove{
0%{background-position:0% 50%;}
50%{background-position:100% 50%;}
100%{background-position:0% 50%;}
}

/* Loader */
#loader{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:#000;
display:flex;
justify-content:center;
align-items:center;
z-index:99999;
}
.loader-text{
font-size:40px;
font-weight:800;
background:linear-gradient(90deg,#ff4ecd,#7a5cff);
-webkit-background-clip:text;
color:transparent;
animation:pulse 1.5s infinite;
}
@keyframes pulse{
0%{opacity:0.3;}
50%{opacity:1;}
100%{opacity:0.3;}
}

/* Albums */
.albums{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
gap:20px;
padding:60px;
}
.card{
background:rgba(255,255,255,0.05);
backdrop-filter:blur(15px);
padding:20px;
border-radius:20px;
transition:0.4s;
}
.card img{
width:100%;
height:200px;
object-fit:cover;
border-radius:15px;
transition:0.4s;
}
.card:hover img{
transform:scale(1.08);
box-shadow:0 0 25px rgba(255,0,200,0.7);
}

/* Admin Dashboard */
.dashboard{
position:fixed;
top:0;
right:-350px;
width:350px;
height:100%;
background:rgba(20,20,20,0.9);
padding:25px;
transition:0.5s;
z-index:9999;
overflow-y:auto;
}
.dashboard.active{
right:0;
}
.dashboard h3{
margin-bottom:15px;
}
.dashboard select,
.dashboard input,
.dashboard button{
width:100%;
margin-bottom:10px;
padding:10px;
border:none;
border-radius:6px;
}
.dashboard button{
background:#ff4ecd;
color:white;
cursor:pointer;
}

/* Progress Bar */
.progress-container{
width:100%;
height:10px;
background:#333;
border-radius:5px;
overflow:hidden;
margin-bottom:15px;
display:none;
}
.progress-bar{
height:100%;
width:0%;
background:linear-gradient(90deg,#ff4ecd,#7a5cff);
transition:width 0.3s;
}

.toggle-dashboard{
position:fixed;
top:20px;
right:20px;
background:#ff4ecd;
padding:10px 15px;
border-radius:8px;
cursor:pointer;
z-index:10000;
}
</style>
</head>

<body>

<div id="loader"><div class="loader-text">Debapriya Art</div></div>

<div class="toggle-dashboard" id="openDashboard">Admin</div>

<div class="dashboard" id="dashboard">
<h3>Admin Panel</h3>

<select id="albumSelect">
<option value="">Select Album</option>
<option value="Phone Case">Phone Case</option>
<option value="Bottle Art">Bottle Art</option>
<option value="Sketches">Sketches</option>
<option value="Drawings">Drawings</option>
<option value="Calligraphy">Calligraphy</option>
</select>

<input type="file" id="uploadInput">

<div class="progress-container" id="progressContainer">
<div class="progress-bar" id="progressBar"></div>
</div>

<button id="uploadBtn">Upload Image</button>
<button id="loginBtn">Login</button>
<button id="logoutBtn">Logout</button>
<button id="closeDashboard">Close</button>

</div>

<section class="albums" id="albums"></section>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
import { getStorage, ref, uploadBytesResumable, listAll, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js";

const firebaseConfig = {
apiKey: "AIzaSyAW-xmNGlY6Tdv91Eoa0iWTzdcpT2_rE0Y",
authDomain: "debapriya-arts.firebaseapp.com",
projectId: "debapriya-arts",
storageBucket: "debapriya-arts.firebasestorage.app",
messagingSenderId: "11795860412",
appId: "1:11795860412:web:73df8d337c14e8a5bbb9b9"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const storage = getStorage(app);

let isAdmin=false;

/* Loader */
window.addEventListener("load",()=>{
setTimeout(()=>{
document.getElementById("loader").style.display="none";
},1500);
});

/* Dashboard Toggle */
document.getElementById("openDashboard").onclick=()=>{
document.getElementById("dashboard").classList.add("active");
};
document.getElementById("closeDashboard").onclick=()=>{
document.getElementById("dashboard").classList.remove("active");
};

/* Login */
document.getElementById("loginBtn").onclick=async()=>{
const email=prompt("Email");
const pass=prompt("Password");
try{
await signInWithEmailAndPassword(auth,email,pass);
isAdmin=true;
alert("Logged in");
}catch(e){alert("Login failed");}
};
document.getElementById("logoutBtn").onclick=async()=>{
await signOut(auth);
isAdmin=false;
alert("Logged out");
};

/* Image Compression */
function compressImage(file){
return new Promise(resolve=>{
const img=new Image();
const reader=new FileReader();
reader.onload=e=>img.src=e.target.result;
reader.readAsDataURL(file);
img.onload=()=>{
const canvas=document.createElement("canvas");
const ctx=canvas.getContext("2d");
const maxWidth=1200;
let scale=maxWidth/img.width;
canvas.width=maxWidth;
canvas.height=img.height*scale;
ctx.drawImage(img,0,0,canvas.width,canvas.height);
canvas.toBlob(blob=>resolve(blob),"image/jpeg",0.7);
};
});
}

/* Upload with Progress */
document.getElementById("uploadBtn").onclick=async()=>{
if(!isAdmin){alert("Login first");return;}
const album=document.getElementById("albumSelect").value;
const file=document.getElementById("uploadInput").files[0];
if(!album||!file){alert("Select album and file");return;}

const compressed=await compressImage(file);

const storageRef=ref(storage,album+"/"+Date.now()+".jpg");
const uploadTask=uploadBytesResumable(storageRef,compressed);

const progressContainer=document.getElementById("progressContainer");
const progressBar=document.getElementById("progressBar");
progressContainer.style.display="block";

uploadTask.on("state_changed",
(snapshot)=>{
const progress=(snapshot.bytesTransferred/snapshot.totalBytes)*100;
progressBar.style.width=progress+"%";
},
(error)=>{alert("Upload error");},
()=>{
alert("Upload complete ðŸŽ‰");
progressContainer.style.display="none";
progressBar.style.width="0%";
}
);
};

/* Albums Display */
const albumsData=[
{name:"Phone Case",img:"https://images.unsplash.com/photo-1601972599720-b9e08a00e5f7"},
{name:"Bottle Art",img:"https://images.unsplash.com/photo-1583337130417-3346a1be7dee"},
{name:"Sketches",img:"https://images.unsplash.com/photo-1513364776144-60967b0f800f"},
{name:"Drawings",img:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee"},
{name:"Calligraphy",img:"https://images.unsplash.com/photo-1506784983877-45594efa4cbe"}
];

const albumsContainer=document.getElementById("albums");
albumsData.forEach(a=>{
const card=document.createElement("div");
card.className="card";
card.innerHTML=`<img src="${a.img}"><h3>${a.name}</h3>`;
albumsContainer.appendChild(card);
});

</script>

</body>
</html>
